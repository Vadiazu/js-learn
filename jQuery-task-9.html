<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="common_jq.css"/>
    <script src="jquery-2.1.1.js"></script>
</head>
<body class="task9">
    <div>
        Create two dropdowns using method .animate(). Dont forget about hover on the parent node when drop is active<br>
        - multilevel dropdown with fade-эффектом (animate css property opacity)<br>
        - singlelevel dropdown with slide-эффектом (animate css property margin-top to negative value)
    </div>
    <ul class="nav fade">
        <li><a>item</a></li>
        <li><a>item</a></li>
        <li>
            <a>item with drop</a>
            <ul>
                <li>
                    <a>drop item</a>
                    <ul>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <a>drop item</a>
                    <ul>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <a>drop item</a>
                    <ul>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><a>item</a></li>
        <li>
            <a>item with drop</a>
            <ul>
                <li>
                    <a>drop item</a>
                    <ul>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <a>drop item</a>
                    <ul>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <a>drop item</a>
                    <ul>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>drop item</a>
                            <ul>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                                <li><a>drop item</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <ul class="nav slide">
        <li><a>nav item</a></li>
        <li><a>nav item</a></li>
        <li>
            <a>item with drop</a>
            <div class="drop">
                <ul>
                    <li><a>drop item</a></li>
                    <li><a>drop item</a></li>
                    <li><a>drop item</a></li>
                    <li><a>drop item</a></li>
                    <li><a>drop item</a></li>
                </ul>
            </div>
        </li>
        <li><a>nav item</a></li>
        <li>
            <a>item with drop</a>
            <div class="drop">
                <ul>
                    <li><a>drop item</a></li>
                    <li><a>drop item</a></li>
                    <li><a>drop item</a></li>
                </ul>
            </div>
        </li>
    </ul>
    <script>
        $(function(){
            fadeMenu();
            slideMenu();
        });
        function fadeMenu(){
            var menu = $('.fade');
            menu.find('li').each(function(){
                if($(this).children('ul').length){
                    $(this).addClass('has-drop');
                    $(this).children('ul').css({
                        opacity: 0,
                        display: 'none'
                    });
                }
            });
            $('.has-drop').on({
                mouseenter: function(){
                    $(this).addClass('hover');
                    $(this).children('ul').css('display', 'block');
                    $(this).children('ul').animate({opacity: 1}, 500);
                },
                mouseleave: function(){
                    $(this).removeClass('hover');
                    $(this).children('ul').css('display', 'none');
                    $(this).children('ul').animate({opacity: 0}, 500);
                }
            });
        }
        function slideMenu(){
            var slide = $('.slide'), curMargin;
            slide.find('li').each(function(){
                if($(this).children('.drop').length){
                    var marginTop = $(this).find('.drop > ul').outerHeight();
                    $(this).addClass('has-drop');
                    $(this).find('.drop > ul').css({
                        'margin-top': -marginTop
                    });
                }
            });
            $('.has-drop').on({
                mouseenter: function(){
                    var curDrop = $(this).find('.drop > ul');
                    curMargin = curDrop.css('margin-top');
                    $(this).addClass('hover');
                    curDrop.animate({'margin-top': 0}, 500);
                },
                mouseleave: function(){
                    $(this).removeClass('hover');
                    $(this).find('.drop > ul').animate({'margin-top': curMargin}, 500);
                }
            });
        }
    </script>
</body>
</html>