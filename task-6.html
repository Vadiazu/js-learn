<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="common.css"/>
</head>
<body>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Example</title>
</head>
<body class="task6">

<div class="holder">
	<ul class="list">
		<li>text text text</li>
		<li>
			text text text
			<ul>
				<li>text text text</li>
				<li>text text text</li>
				<li>text text text</li>
				<li>text text text</li>
			</ul>
		</li>
		<li>text text text</li>
		<li>
			text text text
			<ul>
				<li>text text text</li>
				<li>text text text</li>
				<li>text text text</li>
			</ul>
		</li>
		<li>text text text</li>
	</ul>
	<ul class="list">
		<li>text text text</li>
		<li>text text text</li>
		<li>
			text text text
			<ul>
				<li>text text text</li>
				<li>text text text</li>
				<li>text text text</li>
				<li>text text text</li>
			</ul>
		</li>
	</ul>
</div>

</body>
</html>
<script>
	function initPage() {
		var elem = document.getElementsByTagName('li');
		for(var i=0; i<elem.length; i++){
			elem[i].addEventListener('click', clickLi);
		}
	}
	function clickLi(e){
		e.stopPropagation();
		var cur = e.target,
			parent = cur.parentNode,
			children = parent.children,
			count = children.length,
			index = 0;
		cur.classList.add('clicked');
		for(var i = 0; i < count; i++){
			if(children[i].classList.contains('clicked')){
				break;
			}
			if(cur.tagName == 'LI'){
				index++;
			}
		}
		alert(index + ' ' + count);
		cur.classList.remove('clicked');
	}
	window.addEventListener('load', initPage, false);
</script>
</body>
</html>
